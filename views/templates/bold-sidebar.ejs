<!-- BOLD-SIDEBAR: top-strip | content-wrap (flex:1) | footer-strip -->

<!-- ‚îÄ‚îÄ Top accent strip (same color as footer) ‚îÄ‚îÄ -->
<div class="bs-top-strip"></div>

<!-- ‚îÄ‚îÄ Content wrapper: grows to fill space, pushes footer to bottom ‚îÄ‚îÄ -->
<div class="bs-content-wrap">

  <!-- ‚îÄ‚îÄ Header: photo | name + role + 2√ó2 contact grid ‚îÄ‚îÄ -->
  <div class="bs-header">
    <div class="bs-header-photo">
      <% if (data.profileImageUrl) { %>
        <img src="<%= data.profileImageUrl %>" alt="Profile" />
      <% } else { %>
        <div class="bs-avatar-placeholder">PHOTO</div>
      <% } %>
    </div>

    <div class="bs-header-info">
      <h1 class="bs-name"><%= data.fullName || "" %></h1>
      <p class="bs-role"><%= data.roleTitle || "" %></p>

      <div class="bs-contact-grid">
        <% if (data.phone)    { %><span class="bs-contact-item">üìû <%= data.phone %></span><% } %>
        <% if (data.email)    { %><span class="bs-contact-item">‚úâÔ∏è <%= data.email %></span><% } %>
        <% if (data.location) { %><span class="bs-contact-item">üìç <%= data.location %></span><% } %>
      </div>
    </div>
  </div>

  <div class="bs-divider"></div>

  <!-- ‚îÄ‚îÄ Full-width About Me ‚îÄ‚îÄ -->
  <% if (data.summary) { %>
  <div class="bs-about">
    <h3>About Me</h3>
    <p><%= data.summary %></p>
  </div>
  <% } %>

  <!-- ‚îÄ‚îÄ Two-column body: Education+Skills | Work Experience ‚îÄ‚îÄ -->
  <div class="bs-body">

    <!-- Left: Education, Skills -->
    <div class="bs-left">

      <div class="bs-section">
        <h3>Education</h3>
        <p><%= data.education || "" %></p>
      </div>

      <div class="bs-section">
        <h3>Skills</h3>
        <% if (skillsLines.length) { %>
          <ul class="bs-skill-list">
            <% skillsLines.forEach(line => { %>
              <li><%= line %></li>
            <% }) %>
          </ul>
        <% } else { %>
          <p><%= data.skills || "" %></p>
        <% } %>
      </div>

    </div>

    <!-- Right: Work Experience ‚Äî dates-left column per entry -->
    <div class="bs-right">
      <div class="bs-content-section">
        <h3>Work Experience</h3>

        <% if (experienceItems.length) { %>
          <% experienceItems.forEach(exp => { %>
            <div class="bs-exp-item">
              <div class="bs-exp-dates"><%= exp.dates || "" %></div>
              <div class="bs-exp-detail">
                <div class="bs-exp-title"><%= exp.title || "" %></div>
                <% if (exp.company) { %>
                  <div class="bs-exp-company"><%= exp.company %></div>
                <% } %>
                <% if (exp.description) { %>
                  <div class="bs-exp-desc"><%= exp.description %></div>
                <% } %>
              </div>
            </div>
          <% }) %>
        <% } else { %>
          <p class="bs-fallback"><%= data.experience || "" %></p>
        <% } %>
      </div>
    </div>

  </div>

</div><!-- /.bs-content-wrap -->

<!-- ‚îÄ‚îÄ Footer strip: Languages | References (always at bottom) ‚îÄ‚îÄ -->
<div class="bs-footer">

  <!-- Languages (left) -->
  <div class="bs-footer-col">
    <h3>Languages</h3>
    <%
      const langLines = (data.languages || "")
        .split(/\r?\n/)
        .map(l => l.trim())
        .filter(l => l.length > 0);
    %>
    <% if (langLines.length) { %>
      <ul class="bs-lang-list">
        <% langLines.forEach(l => { %><li><%= l %></li><% }) %>
      </ul>
    <% } else { %>
      <p class="bs-footer-text"><%= data.languages || "" %></p>
    <% } %>
  </div>

  <!-- References (right) ‚Äî hidden gracefully when empty -->
  <div class="bs-footer-col">
    <%
      const rawRefs = (data.references || "").trim();
      const refEntries = rawRefs
        ? rawRefs.split(/\n?---\n?|\n{2,}/).map(s => s.trim()).filter(Boolean).slice(0, 3)
        : [];
    %>
    <% if (refEntries.length) { %>
      <h3>Reference</h3>
      <div class="bs-ref-grid">
        <% refEntries.forEach(entry => { %>
          <%
            const refLines = entry.split(/\r?\n/).map(l => l.trim()).filter(Boolean);
            const refName  = refLines[0] || "";
            const refInst  = refLines[1] || "";
            const refPhone = refLines[2] || "";
            const refWeb   = refLines[3] || "";
          %>
          <div class="bs-ref-entry">
            <div class="bs-ref-name"><%= refName %></div>
            <% if (refInst)  { %><div class="bs-ref-institution"><%= refInst %></div><% } %>
            <div class="bs-ref-contact">
              <% if (refPhone) { %><span>üìû <%= refPhone %></span><% } %>
              <% if (refWeb)   { %><span>üåê <%= refWeb %></span><% } %>
            </div>
          </div>
        <% }) %>
      </div>
    <% } %>
  </div>

</div>
