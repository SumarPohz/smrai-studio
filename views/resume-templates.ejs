<%- include("partials/header") %>

<section class="templates-hero">
  <h1>Worried about making a professional resume?</h1>
  <p class="templates-subtitle">
    Choose from modern templates, add your details, and download a polished resume in just a few clicks.
  </p>
  <p class="templates-subtitle small">
    Ready to land your next job? Start with the right design and clear, professional content.
  </p>

  <div class="experience-toggle">
    <label>
      <input type="radio" name="experience" value="experienced" checked />
      <span>Experienced</span>
    </label>
    <label>
      <input type="radio" name="experience" value="fresher" />
      <span>Fresher</span>
    </label>
  </div>
</section>

<section class="templates-carousel-section">
  <button class="templates-arrow" id="templates-prev">&#10094;</button>

  <div class="templates-carousel">
    <div class="templates-strip">
    <!-- Template 1 -->
      <article class="template-card">
        <div class="template-preview template-1">
          <img
            src="/images/templates/SmrAI-Studio-Resume-A4.jpg"
            alt="Modern Professional resume example"
            class="template-preview-img"
            draggable="false"
          />
        </div>
        <div class="template-card-body">
          <h3>Modern Professional</h3>
          <p>Clean two-column layout, great for experienced professionals.</p>
          <a href="/resume-builder?template=modern-1" class="template-btn">Choose Template</a>
        </div>
      </article>



    <!-- Template 2 -->
    <!-- Template 2 -->
<article class="template-card">
  <div class="template-preview template-2">
    <img
      src="/images/templates/Sumar.png"
      alt="Modern Professional Resume Example"
      class="template-preview-img"
      draggable="false"
    />
  </div>

  <div class="template-card-body">
    <h3>Bold Sidebar</h3>
    <p>Strong left sidebar for contact & skills, content on the right.</p>
    <a href="/resume-builder?template=bold-sidebar" class="template-btn disabled">
      Coming Soon
    </a>
  </div>
</article>


            <!-- Template 3 -->
    <article class="template-card">
      <div class="template-preview template-3">
        <img
          src="/images/templates/Sumar.png"
          alt="Simple & Minimal Resume Preview"
          class="template-preview-img"
          draggable="false"
        />
      </div>
      <div class="template-card-body">
        <h3>Simple & Minimal</h3>
        <p>Single-column layout, perfect for fresher & minimalist profiles.</p>
        <a class="template-btn disabled">Coming Soon</a>
      </div>
    </article>

    <!-- Template 4 -->
    <article class="template-card">
      <div class="template-preview template-4">
        <img
          src="/images/templates/Sumar.png"
          alt="Creative Gradient Resume Preview"
          class="template-preview-img"
          draggable="false"
        />
      </div>
      <div class="template-card-body">
        <h3>Creative Gradient</h3>
        <p>Vibrant color bar headers and creative fonts for design roles.</p>
        <a class="template-btn disabled">Coming Soon</a>
      </div>
    </article>

    <!-- Template 5 -->
    <article class="template-card">
      <div class="template-preview template-5">
        <img
          src="/images/templates/Sumar.png"
          alt="Corporate Clean Resume Preview"
          class="template-preview-img"
          draggable="false"
        />
      </div>
      <div class="template-card-body">
        <h3>Corporate Clean</h3>
        <p>Blue-gray tones and clean structure suited for management roles.</p>
        <a class="template-btn disabled">Coming Soon</a>
      </div>
    </article>

    <!-- Template 6 -->
    <article class="template-card">
      <div class="template-preview template-6">
        <img
          src="/images/templates/Sumar.png"
          alt="Elegant Serif Resume Preview"
          class="template-preview-img"
          draggable="false"
        />
      </div>
      <div class="template-card-body">
        <h3>Elegant Serif</h3>
        <p>Classic fonts and balanced spacing, great for academia or HR.</p>
        <a class="template-btn disabled">Coming Soon</a>
      </div>
    </article>

    <!-- Template 7 -->
    <article class="template-card">
      <div class="template-preview template-7">
        <img
          src="/images/templates/Sumar.png"
          alt="Tech Focused Resume Preview"
          class="template-preview-img"
          draggable="false"
        />
      </div>
      <div class="template-card-body">
        <h3>Tech Focused</h3>
        <p>Monospace typography and clean blocks for developers and engineers.</p>
        <a class="template-btn disabled">Coming Soon</a>
      </div>
    </article>

    <!-- Template 8 -->
    <article class="template-card">
      <div class="template-preview template-8">
        <img
          src="/images/templates/Sumar.png"
          alt="Classic Border Resume Preview"
          class="template-preview-img"
          draggable="false"
        />
      </div>
      <div class="template-card-body">
        <h3>Classic Border</h3>
        <p>Thin border layout with professional blue tones for all industries.</p>
        <a class="template-btn disabled">Coming Soon</a>
      </div>
    </article>

    <!-- Template 9 -->
    <article class="template-card">
      <div class="template-preview template-9">
        <img
          src="/images/templates/Sumar.png"
          alt="Photo Resume Preview"
          class="template-preview-img"
          draggable="false"
        />
      </div>
      <div class="template-card-body">
        <h3>Photo Resume</h3>
        <p>Profile photo section with elegant left bar and summary space.</p>
        <a class="template-btn disabled">Coming Soon</a>
      </div>
    </article>

    <!-- Template 10 -->
    <article class="template-card">
      <div class="template-preview template-10">
        <img
          src="/images/templates/Sumar.png"
          alt="Modern Blue Resume Preview"
          class="template-preview-img"
          draggable="false"
        />
      </div>
      <div class="template-card-body">
        <h3>Modern Blue</h3>
        <p>Sharp blue top bar and section headers, perfect for executives.</p>
        <a class="template-btn disabled">Coming Soon</a>
      </div>
    </article>
    </div>
  </div>

  <button class="templates-arrow" id="templates-next">&#10095;</button>
</section>

<!-- Carousel dots -->
<div class="templates-dots">
  <span class="dot active" data-index="0"></span>
  <span class="dot" data-index="1"></span>
  <span class="dot" data-index="2"></span>
  <span class="dot" data-index="3"></span>
</div>



<section class="features-section">
  <h2>Our Main Features</h2>
  <p class="section-subtitle">
    Start building your resume today and land your dream job tomorrow.
  </p>

  <div class="features-grid">
    <div class="feature-card">
      <div class="feature-icon orange">ðŸ“„</div>
      <h3>Proven CV Templates</h3>
      <p>Layouts inspired by what recruiters actually read and shortlist.</p>
    </div>

    <div class="feature-card">
      <div class="feature-icon blue">ðŸŽ¨</div>
      <h3>Creative & Clean Design</h3>
      <p>Balanced typography, spacing, and colors for maximum readability.</p>
    </div>

    <div class="feature-card">
      <div class="feature-icon red">ðŸ§ </div>
      <h3>AI Content Help</h3>
      <p>Get help with bullet points, summaries, and responsibilities.</p>
    </div>

    <div class="feature-card">
      <div class="feature-icon green">âš¡</div>
      <h3>Fast & Easy</h3>
      <p>Build, preview, and download in minutes instead of hours.</p>
    </div>

    <div class="feature-card">
      <div class="feature-icon yellow">ðŸ’¾</div>
      <h3>Profile Saved</h3>
      <p>Update once, reuse across different templates and versions.</p>
    </div>

    <div class="feature-card">
      <div class="feature-icon purple">ðŸ“¥</div>
      <h3>PDF & JPG Export</h3>
      <p>Download in both formats for portals, email, and print.</p>
    </div>
  </div>
</section>

<%- include("partials/footer") %>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const carousel = document.querySelector(".templates-carousel");
    const strip = document.querySelector(".templates-strip");
    const dots = document.querySelectorAll(".templates-dots .dot");
    const nextBtn = document.getElementById("templates-next");
    const prevBtn = document.getElementById("templates-prev");
    const cards = document.querySelectorAll(".template-card");

    if (!carousel || !strip || cards.length === 0 || !nextBtn || !prevBtn || dots.length === 0) {
      return; // nothing to do
    }

    // We show 3 cards per view (page)
    const pageSize = 3;
    const totalPages = Math.ceil(cards.length / pageSize); // 12 cards -> 4 pages
    let currentPage = 0;
    let autoSlideInterval;
    const slideDuration = 3000; // 3 seconds

    function goToPage(pageIndex) {
      currentPage = (pageIndex + totalPages) % totalPages;

      const containerWidth = carousel.clientWidth;

      carousel.scrollTo({
        left: containerWidth * currentPage,
        behavior: "smooth",
      });

      updateDots();
    }

    function updateDots() {
      dots.forEach((dot, i) => {
        dot.classList.toggle("active", i === currentPage);
      });
    }

    function startAutoSlide() {
      stopAutoSlide();
      autoSlideInterval = setInterval(() => {
        goToPage(currentPage + 1);
      }, slideDuration);
    }

    function stopAutoSlide() {
      if (autoSlideInterval) clearInterval(autoSlideInterval);
    }

    // Arrow buttons
    nextBtn.addEventListener("click", () => {
      goToPage(currentPage + 1);
      startAutoSlide();
    });

    prevBtn.addEventListener("click", () => {
      goToPage(currentPage - 1);
      startAutoSlide();
    });

    // Dots click (0,1,2 for 3 pages)
    dots.forEach((dot) => {
      dot.addEventListener("click", () => {
        const index = parseInt(dot.dataset.index, 10);
        goToPage(index);
        startAutoSlide();
      });
    });

    // Pause on hover / touch
    carousel.addEventListener("mouseenter", stopAutoSlide);
    carousel.addEventListener("mouseleave", startAutoSlide);
    carousel.addEventListener("touchstart", stopAutoSlide, { passive: true });
    carousel.addEventListener("touchend", startAutoSlide);

    // Pause on hover / touch
carousel.addEventListener("mouseenter", stopAutoSlide);
carousel.addEventListener("mouseleave", startAutoSlide);
carousel.addEventListener("touchstart", stopAutoSlide, { passive: true });
carousel.addEventListener("touchend", startAutoSlide);

// --- Manual drag/slide feature ---
let isDragging = false;
let startX;
let scrollStart;

carousel.addEventListener("mousedown", (e) => {
  isDragging = true;
  startX = e.pageX - carousel.offsetLeft;
  scrollStart = carousel.scrollLeft;
  carousel.classList.add("grabbing");
  stopAutoSlide();
   document.body.style.userSelect = "none";
});

carousel.addEventListener("mouseleave", () => {
  isDragging = false;
  carousel.classList.remove("grabbing");
  startAutoSlide();
});

carousel.addEventListener("mouseup", () => {
  isDragging = false;
  carousel.classList.remove("grabbing");
  startAutoSlide();
  document.body.style.userSelect = "auto";
});

carousel.addEventListener("mousemove", (e) => {
  if (!isDragging) return;
  e.preventDefault();
  const x = e.pageX - carousel.offsetLeft;
  const walk = (x - startX) * 1.5; // scroll speed multiplier
  carousel.scrollLeft = scrollStart - walk;
});

// Touch (mobile) equivalent
let touchStartX = 0;

carousel.addEventListener("touchstart", (e) => {
  touchStartX = e.touches[0].clientX;
  stopAutoSlide();
});

carousel.addEventListener("touchmove", (e) => {
  const touchX = e.touches[0].clientX;
  const diff = touchStartX - touchX;
  carousel.scrollLeft += diff * 0.8;
  touchStartX = touchX;
});

    // Init
    goToPage(0);
    startAutoSlide();
  });
</script>
