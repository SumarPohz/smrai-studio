<%- include("partials/header") %>

<section class="templates-hero">
  <h1>Worried about making a professional resume?</h1>
  <p class="templates-subtitle">
    Choose from modern templates, add your details, and download a polished resume in just a few clicks.
  </p>
  <p class="templates-subtitle small">
    Ready to land your next job? Start with the right design and clear, professional content.
  </p>

  <div class="experience-toggle">
    <label>
      <input type="radio" name="experience" value="experienced" checked />
      <span>Experienced</span>
    </label>
    <label>
      <input type="radio" name="experience" value="fresher" />
      <span>Fresher</span>
    </label>
    <label>
      <input type="radio" name="experience" value="developer" />
      <span>Developer</span>
    </label>
  </div>
</section>

<section class="templates-grid-section">
  <div class="templates-grid">
    <% RESUME_TEMPLATES.forEach((tmpl, index) => { %>
      <article class="template-card" data-category="<%= tmpl.category || 'experienced' %>">
        <div class="template-preview template-<%= index + 1 %>">
          <img
            src="<%= tmpl.previewImage %>"
            alt="<%= tmpl.title %> preview"
            class="template-preview-img"
            draggable="false"
          />
        </div>
        <div class="template-card-body">
          <h3>
            <%= tmpl.title %>
            <% if (tmpl.badge) { %>
              <span class="template-badge <%= tmpl.badge.toLowerCase().replace(/\s+/g, '-') %>">
                <%= tmpl.badge %>
              </span>
            <% } %>
          </h3>
          <p><%= tmpl.description %></p>
          <% if (tmpl.isAvailable) { %>
            <a href="/resume-builder?template=<%= tmpl.id %>" class="template-btn">
              Choose Template
            </a>
          <% } else { %>
            <a class="template-btn disabled">Coming Soon</a>
          <% } %>
        </div>
      </article>
    <% }); %>
  </div>
</section>

<section class="features-section">
  <h2>Our Main Features</h2>
  <p class="section-subtitle">
    Start building your resume today and land your dream job tomorrow.
  </p>

  <div class="features-grid">
    <div class="feature-card">
      <div class="feature-icon orange">ðŸ“„</div>
      <h3>Proven CV Templates</h3>
      <p>Layouts inspired by what recruiters actually read and shortlist.</p>
    </div>

    <div class="feature-card">
      <div class="feature-icon blue">ðŸŽ¨</div>
      <h3>Creative & Clean Design</h3>
      <p>Balanced typography, spacing, and colors for maximum readability.</p>
    </div>

    <div class="feature-card">
      <div class="feature-icon red">ðŸ§ </div>
      <h3>AI Content Help</h3>
      <p>Get help with bullet points, summaries, and responsibilities.</p>
    </div>

    <div class="feature-card">
      <div class="feature-icon green">âš¡</div>
      <h3>Fast & Easy</h3>
      <p>Build, preview, and download in minutes instead of hours.</p>
    </div>

    <div class="feature-card">
      <div class="feature-icon yellow">ðŸ’¾</div>
      <h3>Profile Saved</h3>
      <p>Update once, reuse across different templates and versions.</p>
    </div>

    <div class="feature-card">
      <div class="feature-icon purple">ðŸ“¥</div>
      <h3>PDF & JPG Export</h3>
      <p>Download in both formats for portals, email, and print.</p>
    </div>
  </div>
</section>

<script>
  (function () {
    const radios = document.querySelectorAll('input[name="experience"]');
    const cards  = document.querySelectorAll(".template-card");

    function filterCards(value) {
      cards.forEach(function (card) {
        card.style.display = card.dataset.category === value ? "" : "none";
      });
      localStorage.setItem("experienceLevel", value);
    }

    // Restore saved selection on load
    const saved = localStorage.getItem("experienceLevel") || "experienced";
    radios.forEach(function (r) {
      if (r.value === saved) r.checked = true;
    });
    filterCards(saved);

    // React to change
    radios.forEach(function (r) {
      r.addEventListener("change", function () {
        filterCards(r.value);
      });
    });
  })();
</script>

<%- include("partials/footer") %>
